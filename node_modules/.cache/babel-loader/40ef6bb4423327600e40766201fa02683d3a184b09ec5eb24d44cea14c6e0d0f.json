{"ast":null,"code":"// OpenCV.js loader utility\nlet isOpenCVLoaded = false;\nlet loadingPromise = null;\nexport const loadOpenCV = () => {\n  if (isOpenCVLoaded) {\n    return Promise.resolve();\n  }\n  if (loadingPromise) {\n    return loadingPromise;\n  }\n  loadingPromise = new Promise((resolve, reject) => {\n    // Check if OpenCV is already available\n    if (window.cv && window.cv.Mat) {\n      isOpenCVLoaded = true;\n      resolve();\n      return;\n    }\n\n    // Create script element to load OpenCV.js\n    const script = document.createElement('script');\n    script.src = 'https://docs.opencv.org/4.8.0/opencv.js';\n    script.async = true;\n    script.onload = () => {\n      // OpenCV.js loads asynchronously, need to wait for it to be ready\n      const checkOpenCV = () => {\n        if (window.cv && window.cv.Mat) {\n          isOpenCVLoaded = true;\n          console.log('OpenCV.js loaded successfully');\n          resolve();\n        } else {\n          setTimeout(checkOpenCV, 100);\n        }\n      };\n      checkOpenCV();\n    };\n    script.onerror = () => {\n      console.error('Failed to load OpenCV.js');\n      reject(new Error('Failed to load OpenCV.js'));\n    };\n    document.head.appendChild(script);\n\n    // Timeout after 30 seconds\n    setTimeout(() => {\n      if (!isOpenCVLoaded) {\n        reject(new Error('OpenCV.js loading timeout'));\n      }\n    }, 30000);\n  });\n  return loadingPromise;\n};\nexport const isOpenCVReady = () => isOpenCVLoaded;","map":{"version":3,"names":["isOpenCVLoaded","loadingPromise","loadOpenCV","Promise","resolve","reject","window","cv","Mat","script","document","createElement","src","async","onload","checkOpenCV","console","log","setTimeout","onerror","error","Error","head","appendChild","isOpenCVReady"],"sources":["C:/Users/ADMIN/OneDrive/Desktop/ramya/photo app/src/utils/opencvLoader.js"],"sourcesContent":["// OpenCV.js loader utility\nlet isOpenCVLoaded = false;\nlet loadingPromise = null;\n\nexport const loadOpenCV = () => {\n  if (isOpenCVLoaded) {\n    return Promise.resolve();\n  }\n\n  if (loadingPromise) {\n    return loadingPromise;\n  }\n\n  loadingPromise = new Promise((resolve, reject) => {\n    // Check if OpenCV is already available\n    if (window.cv && window.cv.Mat) {\n      isOpenCVLoaded = true;\n      resolve();\n      return;\n    }\n\n    // Create script element to load OpenCV.js\n    const script = document.createElement('script');\n    script.src = 'https://docs.opencv.org/4.8.0/opencv.js';\n    script.async = true;\n\n    script.onload = () => {\n      // OpenCV.js loads asynchronously, need to wait for it to be ready\n      const checkOpenCV = () => {\n        if (window.cv && window.cv.Mat) {\n          isOpenCVLoaded = true;\n          console.log('OpenCV.js loaded successfully');\n          resolve();\n        } else {\n          setTimeout(checkOpenCV, 100);\n        }\n      };\n      checkOpenCV();\n    };\n\n    script.onerror = () => {\n      console.error('Failed to load OpenCV.js');\n      reject(new Error('Failed to load OpenCV.js'));\n    };\n\n    document.head.appendChild(script);\n\n    // Timeout after 30 seconds\n    setTimeout(() => {\n      if (!isOpenCVLoaded) {\n        reject(new Error('OpenCV.js loading timeout'));\n      }\n    }, 30000);\n  });\n\n  return loadingPromise;\n};\n\nexport const isOpenCVReady = () => isOpenCVLoaded;\n"],"mappings":"AAAA;AACA,IAAIA,cAAc,GAAG,KAAK;AAC1B,IAAIC,cAAc,GAAG,IAAI;AAEzB,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC9B,IAAIF,cAAc,EAAE;IAClB,OAAOG,OAAO,CAACC,OAAO,CAAC,CAAC;EAC1B;EAEA,IAAIH,cAAc,EAAE;IAClB,OAAOA,cAAc;EACvB;EAEAA,cAAc,GAAG,IAAIE,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IAChD;IACA,IAAIC,MAAM,CAACC,EAAE,IAAID,MAAM,CAACC,EAAE,CAACC,GAAG,EAAE;MAC9BR,cAAc,GAAG,IAAI;MACrBI,OAAO,CAAC,CAAC;MACT;IACF;;IAEA;IACA,MAAMK,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACG,GAAG,GAAG,yCAAyC;IACtDH,MAAM,CAACI,KAAK,GAAG,IAAI;IAEnBJ,MAAM,CAACK,MAAM,GAAG,MAAM;MACpB;MACA,MAAMC,WAAW,GAAGA,CAAA,KAAM;QACxB,IAAIT,MAAM,CAACC,EAAE,IAAID,MAAM,CAACC,EAAE,CAACC,GAAG,EAAE;UAC9BR,cAAc,GAAG,IAAI;UACrBgB,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;UAC5Cb,OAAO,CAAC,CAAC;QACX,CAAC,MAAM;UACLc,UAAU,CAACH,WAAW,EAAE,GAAG,CAAC;QAC9B;MACF,CAAC;MACDA,WAAW,CAAC,CAAC;IACf,CAAC;IAEDN,MAAM,CAACU,OAAO,GAAG,MAAM;MACrBH,OAAO,CAACI,KAAK,CAAC,0BAA0B,CAAC;MACzCf,MAAM,CAAC,IAAIgB,KAAK,CAAC,0BAA0B,CAAC,CAAC;IAC/C,CAAC;IAEDX,QAAQ,CAACY,IAAI,CAACC,WAAW,CAACd,MAAM,CAAC;;IAEjC;IACAS,UAAU,CAAC,MAAM;MACf,IAAI,CAAClB,cAAc,EAAE;QACnBK,MAAM,CAAC,IAAIgB,KAAK,CAAC,2BAA2B,CAAC,CAAC;MAChD;IACF,CAAC,EAAE,KAAK,CAAC;EACX,CAAC,CAAC;EAEF,OAAOpB,cAAc;AACvB,CAAC;AAED,OAAO,MAAMuB,aAAa,GAAGA,CAAA,KAAMxB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}